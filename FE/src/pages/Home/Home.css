/* --- 1. CẬP NHẬT LẠI :ROOT (Thêm màu chữ mặc định) --- */
:root {
  /* Màu Layout */
  --primary-color: #1677ff;
  --bg-color: #f0f2f5;       /* Xám nhạt */
  --sidebar-bg: #ffffff;     /* Trắng */
  --content-bg: #ffffff;     /* Nền nội dung (nếu có card) */
  
  /* Màu Text & Border */
  --text-color: rgba(0, 0, 0, 0.88);
  --text-secondary: rgba(0, 0, 0, 0.45);
  --border-color: rgba(5, 5, 5, 0.06);
  
  /* Scrollbar */
  --scroll-thumb: #ccc;
  --scroll-track: transparent;

  /* Kích thước & Shadow giữ nguyên như cũ */
  --header-height: 64px;
  --trigger-width: 24px;
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.03);
}

/* --- 2. ĐỊNH NGHĨA DARK MODE --- */
[data-theme="dark"] {
  /* Màu Layout - Tông màu tối dịu mắt (giống Ant Design Dark) */
  --primary-color: #1668dc;  /* Xanh đậm hơn chút để đỡ chói */
  --bg-color: #000000;       /* Nền đen sâu */
  --sidebar-bg: #141414;     /* Xám đen cho Sidebar */
  --content-bg: #1f1f1f;     /* Xám nhẹ hơn cho các Card nội dung */

  /* Màu Text & Border - Đảo ngược lại */
  --text-color: rgba(255, 255, 255, 0.85); /* Trắng đục dễ đọc */
  --text-secondary: rgba(255, 255, 255, 0.45);
  --border-color: #303030;   /* Viền xám tối */

  /* Shadow - Giảm độ gắt hoặc đổi sang shadow âm bản */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.5);

  /* Scrollbar tối */
  --scroll-thumb: #444;
}

/* --- 3. ÁP DỤNG MÀU VÀO ELEMENT (Quan trọng) --- */
body {
  background-color: var(--bg-color);
  color: var(--text-color);
  /* Thêm transition để khi bấm nút chuyển màu nó mượt, không bị chớp */
  transition: background-color 0.3s, color 0.3s;
}

.main-layout, 
.main-content, 
.desktop-sidebar {
  /* Đảm bảo các thành phần này ăn theo biến màu */
  background-color: var(--bg-color); /* Hoặc --sidebar-bg tùy vị trí */
  transition: background-color 0.3s, border-color 0.3s, box-shadow 0.3s;
}

.desktop-sidebar {
  background-color: var(--sidebar-bg); /* Ghi đè lại nền cho sidebar */
  border-color: var(--border-color) !important; /* Ghi đè border */
}

/* Cập nhật lại Scrollbar để ăn theo biến */
::-webkit-scrollbar-thumb {
  background: var(--scroll-thumb);
}